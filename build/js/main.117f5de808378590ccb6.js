(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(a,t,e){a.exports={footer:"footer___vNb3J",main:"main___3bT5J",footerImg:"footerImg___Y_vmP",btnPrimary:"btnPrimary___vsWsE"}},32:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e(61),o=function(a){var t=new Array;return a.cast.forEach((function(e){var o=new r.FilmForActorViewModel;o.populate(e);var i=new r.ActorViewModel;i.populateFromCast(e),i.name=a.name,o.actor.push(i),t.push(o)})),t};t.mergeFilm=function(a,t){console.log({filmFromActor1:a});var e=o(a),r=o(t),i=new Array;return console.log({filmsForFirstActor:e}),e.forEach((function(a){var t=r.find((function(t){return t.id===a.id}));t&&(a.secondary_actor=t.actor,i.push(a))})),console.log(i),i}},6:function(a,t,e){a.exports={"col-md-5":"col-md-5___IjpGm",colMd5:"col-md-5___IjpGm",description:"description____t2rJ",cardHeader:"cardHeader___3kUH9",metadata:"metadata___aMg_U",subTitle:"subTitle___2_4pK",cardTitle:"cardTitle___2fYch",cardBody:"cardBody___31_4G",cardText:"cardText___3UALG",card:"card___1H-MX",cardImg:"cardImg___1AURQ"}},61:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){};t.Cast=r;var o=function(){};t.Crew=o;var i=function(){};t.RoleForActor=i;var n=function(){function a(){}return a.prototype.populateFromCast=function(a){this.character=a.character,this.job="",this.department="",this.name=a.name},a.prototype.populateFromCrew=function(a){this.character="",this.job=a.job,this.department=a.department,this.name=a.name},a}();t.ActorViewModel=n;var c=function(){function a(){}return a.prototype.populate=function(a){this.media_type=a.media_type,this.poster_path=a.poster_path,this.backdrop_path=a.backdrop_path,this.popularity=a.popularity,this.title=a.title||a.name,this.original_language=a.original_language,this.release_date=a.release_date,this.id=a.id,this.overview=a.overview,this.actor=new Array,this.secondary_actor=new Array,this.original_title=a.original_title,this.name=a.name},a}();t.FilmForActorViewModel=c},62:function(a,t,e){"use strict";e.r(t);var r=e(1),o=e.n(r),i=e(0),n=e(9),c=e.n(n),s=e(29),d=e.n(s),l=(e(37),e(10)),p=e.n(l),m=e(19),h=e(17),_=e.n(h),u=e(32),v=(e(2),e(6)),g=e.n(v),f=o()("i",{className:"fa fa-star","aria-hidden":"true"}),b=a=>{var{media_type:t,poster_path:e,backdrop_path:r,popularity:i,title:n,original_language:c,release_date:s,overview:d,original_title:l,id:p,first_actor:m,secondary_actor:h}=a,_=m.role.filter(a=>""!==a.character).map(a=>a.character).join(","),u=h.role.filter(a=>""!==a.character).map(a=>a.character).join(",");return o()("div",{id:p,className:""},void 0,o()("div",{className:g.a.card+" card"},void 0,o()("div",{className:g.a.cardHeader+" card-header"},void 0,o()("h1",{className:g.a.cardTitle+" card-title"},void 0,l,o()("span",{className:g.a.subTitle},void 0,n)),o()("img",{className:g.a.cardImg+" card-img",src:"https://image.tmdb.org/t/p/w500".concat(r),alt:"Backdrop"})),o()("div",{className:g.a.cardBody+" card-body"},void 0,o()("div",{className:g.a.container},void 0,o()("div",{className:"row"},void 0,o()("span",{className:g.a.metadata},void 0,f,o()("p",{},void 0,i)),o()("span",{className:g.a.metadata},void 0,c),o()("span",{className:g.a.metadata},void 0,s),o()("span",{className:g.a.metadata},void 0,t))),o()("p",{className:g.a.cardText},void 0,d),o()("p",{},void 0,m.name," in ",_),o()("p",{},void 0,h.name," in ",u))))};function y(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),e.push.apply(e,r)}return e}function w(a){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?y(e,!0).forEach((function(t){d()(a,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):y(e).forEach((function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(e,t))}))}return a}var N="199df12205e314f03bf242844484204b",O="https://api.themoviedb.org/3/search/person",j="https://api.themoviedb.org/3/person/",A="https://api.themoviedb.org/3/configuration/languages",k={iso_639_1:"xx",english_name:"No Language",name:"No Language"},F={options:[],hasMore:!1,additional:{page:1}},M=a=>{var{status:t,data:e}=a;if(200!==t)return F;var r=e.page!==e.total_pages&&0!==e.total_pages;return{options:e.results.map(a=>{var{id:t,popularity:e,gender:r,profile_path:o,name:i}=a;return{value:t,info:{id:t,popularity:e,gender:r,profile_path:o,name:i},label:"".concat(i," (").concat(a.known_for_department,")")}}),hasMore:r,additional:{page:e.page+1}}},P=o()("span",{},void 0,"First actor"),C=o()("span",{},void 0,"Second actor");class I extends i.Component{constructor(a){super(a),this.searchActors=(a,t,e)=>{var{page:r}=e;if(!a||a.length<3)return F;var o="".concat(O,"?api_key=").concat(N,"&query=").concat(a,"&page=").concat(r);return p.a.get(o).then(M).catch((function(a){return console.log(a),F}))},this.handleSearchMovie=()=>{var{actor1:a,actor2:t}=this.state,e="".concat(j).concat(a.value,"/combined_credits?api_key=").concat(N),r="".concat(j).concat(t.value,"/combined_credits?api_key=").concat(N);p.a.all([p.a.get(e),p.a.get(r)]).then(p.a.spread((e,r)=>{var o=w({},e.data,{},a.info),i=w({},r.data,{},t.info),n=Object(u.mergeFilm)(o,i),c=w({},this.state);c.filmsInCommon=n,this.setState(c)})).catch((function(a){console.log(a)}))},this.handleActor1=a=>{var t=w({},this.state);t.actor1=a,this.setState(t)},this.handleActor2=a=>{var t=w({},this.state);t.actor2=a,this.setState(t)},this.state={actor1:[],actor2:[],filmsInCommon:[],languages:[]}}componentDidMount(){var a="".concat(A,"?api_key=").concat(N);p.a.get(a).then(a=>{var{status:t,data:e}=a;if(200!==t)return[];this.setState({languages:e})}).catch((function(a){console.log(a)}))}render(){var{actor1:a,actor2:t,filmsInCommon:e}=this.state,r=e.map(a=>{var{actor:t,secondary_actor:e}=a,{languages:r}=this.state,i=r.find(t=>t.iso_639_1===a.original_language)||k,{name:n,english_name:c}=i,s=n===c?n:"".concat(n," (").concat(c,")");return o()(b,{id:a.id,original_title:a.original_title,title:a.title,poster_path:a.poster_path,popularity:a.popularity,original_language:s,release_date:a.release_date,overview:a.overview,backdrop_path:a.backdrop_path,media_type:a.media_type,first_actor:{name:t[0].name,role:t},secondary_actor:{name:e[0].name,role:e}},a.id)});return o()("div",{className:"container-fluid"},void 0,o()("div",{className:"main p-3 "+_.a.main},void 0,o()("div",{className:"row"},void 0,o()("div",{className:"col-sm-12 col-md-6"},void 0,P,o()(m.a,{loadOptions:this.searchActors,defaultOptions:!1,value:a,onChange:this.handleActor1,additional:{page:1}})),o()("div",{className:"col-sm-12 col-md-6"},void 0,C,o()(m.a,{loadOptions:this.searchActors,defaultOptions:!1,value:t,onChange:this.handleActor2,additional:{page:1}}))),o()("div",{className:"row"},void 0,o()("div",{className:"col-12 mt-4 text-center"},void 0,o()("button",{className:"btn btn-primary "+_.a.btnPrimary,type:"button",onClick:this.handleSearchMovie},void 0,"Cerca film"))),o()("div",{className:"row d-flex justify-content-around align-self-stretch"},void 0,r)),o()("div",{className:_.a.footer},void 0,o()("img",{className:_.a.footerImg,alt:"powered by The movie DB",src:"https://www.themoviedb.org/assets/2/v4/logos/powered-by-rectangle-green-dcada16968ed648d5eb3b36bbcfdd8cdf804f723dcca775c8f2bf4cea025aad6.svg"})))}}var T=I;c.a.render(o()(T,{}),document.getElementById("app"))}},[[62,1,2]]]);
//# sourceMappingURL=main.117f5de808378590ccb6.js.map